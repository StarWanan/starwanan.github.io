
# 01 概述

媒体：承载信息的实体（两种含义：表示**信息的载体**和**存储信息的实体**）
信息媒体：承载信息内容的实体
- Text 文本
	- txt
	- RTF（纯文本）
	- DOC（格式化文本）
- Audio 音频
	- WAV：波形文件
	- MIDI：不存储声音信号。存储音符、控制参数等指令，指示MIDI设备要做什么，怎么做
	- MP3：压缩音频文件
- Image 图像
	- BMP：Windows位图文件
	- JPG：标准JPEG
	- PCD
	- PSD
	- TIF：格式复杂，占用存储空间大，大小是JPEG的十倍
- Graphic 图形
	- Quartus
	- Visio
	- Auto CAD：商标设计、标志制作、模型绘制、插图
	- 3DMAX：基于PC系统的三维动画渲染和制作
- Animation 动画
	- GIF（帧动画）：强压缩，将多幅图像保存为一个文件从而形成动画
	- Flash（矢量动画）：利用图形的抽象运动特征来记录变化的画面信息
- Vedio 视频
	- MPEG（VDC：MPEG-1，DVD：MPEG-2）
	- AVI
	- MOV（源于APPLE）
	- DAT

媒体类型
- 感觉媒体：使人直接产生**感觉**
- 表示媒体：**编码**。加工、处理、传输感觉媒体
- 显示媒体：**输入**，**输出**。感觉媒体和用于传输的电信号之间转换的类媒体
- 存储媒体：保存表示媒体的**介质**
- 传输媒体：将媒体传送的**物理载体**



多媒体技术是利用**计算机技术**对多种信息进行综合处理、建立**逻辑关系**，**集成**为一个具有**交互性**的系统



多媒体特征
- 多维化：媒体信息的多样化，人与计算机之间的交互**不在局限于顺序**的、单调的方式，有充分自由的余地
- 集成性：媒体种类一体化。
	- 能将各种不同的**媒体信息**有机地进行同步组合
	- 把不同的**媒体设备**集成在一起，形成多媒体系统
- **交互性**：人机对话，多媒体技术==最关键特征==。在多媒体系统中的综合处理上控制自如
- 数字化：媒体以数字形式存在
- 实时性：声音、动态图像（视频）随时间变化



多媒体技术的研究内容（最重要的是**压缩**）
- **数据压缩与编码技术**
	- 压缩必要性
	- 压缩可能性
- **多媒体数据处理技术**
	- 图像与视频
	- 音频
- 多媒体专用芯片技术
	- 固定功能
	- 可编程数字信号处理器DSP芯片
- 多媒体数据存储与传输技术
	- VCD、DVD、网络技术
- 虚拟现实技术：沉浸（Immersion）、交互（Interaction）、构想（Imagination）
- 多媒体系统软件技术
- 超文本和Web技术
- 多媒体应用开发工具



![[习题1-1.png]]
![[习题1-2.png]]




# 02 多媒体硬件环境
音频信号采集
- 奈奎斯特采样定理：抽样后能够不失真地还原出原信号，则抽样频率必须大于两倍信号谱的最高频率$Ω_s > 2Ω_h$ , 即 $f_s > 2f_h$ 
- 常用音频采样频率：**8kHz**


# 03 数据压缩技术
压缩的可能性：**各种媒体数据内部存在冗余（相关性）**。所以可采用不同编码与解码算法以减弱冗余，达到压缩目的

压缩目的
- 减少存储量，节省存储开销
- 降低实时传输量，以提高传输效率 

**数据冗余类型**是有效采用各种压缩算法的基本依据
- 空间冗余：相邻区域图像灰度或颜色等特性基本相同
- 时间冗余：人眼视觉暂留特性；相邻帧间或相邻音域间是渐变的或局部相同的
- 熵冗余：编码符号序列中的码字冗余
- 其他冗余：结构(纹理)，知识(人脸)


## 编码方法
![](https://s1.vika.cn/space/2022/12/12/fc9a5ad2ec1c478ba26ab9c814b338ef)

熵编码：利用数据的熵冗余压缩

基本思想：根据信源符号出现的概率分布特性，用短码字表示出现概率大的信息，用长码字表示出现概率小的信息；从而减少符号序列中的冗余度，提高符号的平均信息量，达到数据压缩的目的

可变字长的统计编码方法

数据压缩标准中常用熵编码方法
- Huffman编码
- 算数编码
- 行程编码


### Huffman

算法流程

![[Huffman例题-1.png]]
- 统计信源符号出现频率，建立Huffman码表
	- ![[Huffman.png]]
- 把信源符号按概率递减排列，建立二叉树。底层叶节点位置左大右小
- 沿树的路径赋予二进制值，以生成编码符号
- 生成码字。
	- ![[Huffman例题-2.png]]
- 评判编码方案的效率。
	- 信息熵：信源数据所携带的平均信息量。信源X的熵：$S(x)=-\sum_{i=1}^{n}P(x_i)log_2P(x_i)$ 
	- 这是熵编码原理的数学一句：信源符号集的平均码长 -> S(X)，按熵值定义信源符号集的最小平均码长，设计编码方案
- 计算信源符号集$\{X_i\}$的平均码长，并与其最小码长比较。验证合理性。
	- ![[Huffman例题-3.png]]


Huffman算法小结：
- 适用场合：**非均匀概率分布**的信源编码
	- 只要码表以大量**统计**数据为基础，就能获得好的压缩效果
	- ATT：**均匀**概率的信源，编码会产生定长码 —— 失效
- Huffman树及编码不唯一，与信源初始条件和左右节点赋值{(0,1)(1,0)}有关。但**平均码长相等**，压缩效率相同





### 算数编码
在JPEG扩展系统中取代Huffman编码

优点
- 用在**数据概率分布较均匀**的场合；与Huffman编码形成互补
- 压缩效率高出Huffman约5%


基本思想：**基于递归概率区间划分的二进制编码**

具体过程：
1. 信源符号序列 $\{X_i|i=1,2,...,n\}$ 发生的概率用实数区间 $[0,1]$ 上的间隔($X_i$的取值范围)表示
2. 按符号概率大小分配符号间隔。使 [0,1] 随迭代计算此时的增加而逐次变窄
3. 最后范围是代替 $\{X_i\}$ 符号串编码的取值范围

![[算术编码实例-1.png]]

计算方法：
- 目前区间上界(编码间隔高端) high，区间下界(编码间隔低端) low，区间长度(编码间隔长度) range
- 编码字符分配的间隔低端 rangelow；编码字符分配的间隔高端 rangehigh。[rangelow，rangehigh]
- 新的区间上下界：
	- low = low + range * rangelow
	- high =  low + range * rangehigh


最后编码范围的数值代码都唯一对应于此字符串




### 行程编码
行程：具有相同灰度值的连续符号的长度
适用场景：适用于**二值**图像压缩，是传真编码的压缩方法。JPEG编码中，用于处理**DCT交流系数**
扫描方式：行程越长压缩率越高。应选择行程长的扫描方向：水平，垂直，Zig-Zag之字形

（N，L）：（像素的相同灰度值，像素元素的个数）

![[行程编码实例.png]]





# 04 声音编码压缩技术
声音的三个主观属性：音调、音色、音强


音频信号的分类：语音信号，非语音信号。语音是声音的一部分
- 语音：语言的载体，人类进行信息交流所特有的形式
- 非语音：主要包括音乐和自然界存在的其他声音形式。不具有复杂的语义和语法信息，信息量低


声音的频带是比较宽的，语音频带比较窄（300-3400）





## 语音处理 音频信号的编码调制

数字语音信号处理的理论研究和时间按照编码方法来划分：波形编码、 参数编码、混合编码

### 波形编码
用数字形式精确地表示模拟信号波形的编码方法

#### 脉冲编码调制（PCM）
![[PCM原理框图.png]]


步骤：
- **采样**：每隔一段时间间隔读一次声音的幅度
- **量化**：将采样得到的声音信号幅度转换成数字值
	- **均匀量化**
	- **非均匀量化**
- 编码：按一定格式记录采样和量化后的数据



均匀量化：采用相同的间隔度量采样得到的幅度
![[均匀量化.png]]



非均匀量化：大的输入信号采用大的量化间隔，小的输入信号采用小的量化间隔；这样可以在满足精度要求的同时用较少的位数来表示。数据还原是用相同规则
![[非均匀量化.png]]


G.711 对输入信号幅度和输出数据之间的定义：
- μ律压扩（美、日，μ = 255）
- A律压扩（中、欧，A = 87.56）
同样是改变量化阶


#### 增量调制(DM)
预测编码技术。PCM编码的一种变形。

对实际的**采样信号与预测的采样信号之差的极性进行编码**，极性为0，1两种取值之一
- 1：实际采样信号与预测采样信号之差的极性为“正”；
- 0：相反（或者01情况相反）
![[DM.png]]

斜率过载：不能保持跟踪输入信号的快速变化【输入信号变化快的区域的关心焦点】
粒状噪声：输入信号与预测信号的插值接近零的区域，增量调制器的输出出现随机交变的01【变化慢的区域关心焦点】


#### 自适应脉冲编码调制（APCM）：解决不均匀量化
**根据输入信号幅度大小来动态改变量化阶大小**的一种波形编码技术。
- 可以是瞬时自适应：量化阶大小每隔几个样本就改变
- 也可以是非瞬时自适应：量化阶大小在较长时间才发生变化

改变量化阶大小的方法
- 前向自适应：根据**未量化的样本值**的均方值来估算输入信号的电平，以此确定量化阶的大小，并对其电平进行编码作为边信息传送到接收端
	- ![[前向自适应.png]]
- 后向自适应：**从量化器刚输出的过去样本**来提取量化阶信息
	- ![[后向自适应.png]]


#### 差分脉冲编码调制（DPCM）：解决差信号
利用**样本与样本之间存在的时间冗余度**来进行编码的一种数据压缩技术

思想：根据**过去的样本去估算下一个样本信号**的幅度大小，这个值是预测值。然后对**实际信号值与预测值之差进行量化编码**。减少了表示每个样本信号的位数。


DPCM & PCM
- PCM是直接对采样信号进行量化编码
- DPCM是对实际信号值与预测值之差进行量化编码。存储、传送的是差值而不是幅度绝对值



![[DPCM.png]]


离散输入信号 S(k)
预测器输出的估算值 Se(k-1)：对 S(k) 的预测值
差分信号 d(k)：S(k) 和 Se(k-1) 之差



#### 自适应差分脉冲编码调制（ADPCM）
结合两种优点
核心思想
- 利用自适应思想改变量化阶大小，使用小的量化阶去编码小的差值，使用大的量化阶编码大的差值
- 使用过去的样本值估算下一个输入样本的预测值，使实际样本值和预测值之间的差值总是最小
![[ADPCM.png]]



#### 子带编码（SBC）
基本思想
把输入信号的频带分成若干连续的子带，对每个子带采用单独的编码方案。在接收端将每个子带的编码单独译码，然后把他们组合起来，还原成原来的音频信号

优点：各子带根据能量和感觉分别处理


![[子带编码.png]]




### 参数编码
使用发音器官生成语音信号的模型，对从语音信号中抽出语音的特征参数进行编码

- 线性预测编码（LPC）
基本思想
声道是惰性腔体，不可能发生突变，语音信号具有**短时间内的相关性**。通过分析语音波形来产生声道参数，对声音波形的编码转化为对这些参数的编码，使得声音的数据量大大减少



# 05 数字图像与视频
颜色模型：用==数值指定==颜色的方法
颜色空间：用空间中==点的集合==描述颜色的方法 
颜色空间（颜色模型）：用简单方法描述所有颜色的一套规则和定义。

色彩三要素：色调，亮度，饱和度

## 颜色空间
- RGB：显示器信号
- HSI：人眼识别
- YUV：电视信号
- CMY：彩色印刷

所有的颜色空间都可以由RGB转移过去


---

RGB：任何颜色都可以由R，G，B这3种颜色值之和来确定，它们构成一个3维的RGB矢量空间
红、绿、蓝
红  + 绿 = 黄          红 + 蓝 = 品红        绿 + 蓝 = 青
红 + 绿 + 蓝 = 白



---

HSI
Hue：色调
Saturation：饱和度
Intensity：亮度

合乎人们对彩色的认识：
	色彩：色调、饱和度
	亮度：非彩色属性，对应黑白图像的灰度

色度：色调+饱和度。表示颜色类别与深浅程度

转换公式：
	![[HSI转换.png]]


---

CMY (CMYK)
Cyan：青
Magenta：品红
Yellow：黄
(blacK：黑色)

用于彩色打印、彩色印刷。彩色打印机讲颜料沉淀于之上，内部将RGB转化为CMY
![[CMYK.png]]

转换公式归一化：
C = 1 - R
M = 1 - G
Y = 1 - B

青色不反射红，品红不反射绿，黄色不反射蓝。



**打印机为什么不用RGB？**
	由于每种油墨对RGB三原色都是吸收两种反射一种的，用的油墨越多，对光线的吸收就会越多，这样就很难印出明亮的颜色。
	如果我们使每种油墨吸收一种反射两种，就可以得到：
	只吸收红反射蓝绿的就是青色（C）
	只吸收绿反射红蓝的就是品红（M）
	只吸收蓝反射红绿的就是黄色（Y）
	如果把青墨和品红墨相加，蓝色不被两种墨吸收所以反射最强，红色可能被青墨全部吸收或吸收一部分，绿色可能被品红全部吸收或吸收一部分，但无论如何，蓝色是不受影响的，这样就可以得到更亮的颜色。
![](https://s1.vika.cn/space/2022/12/12/baeac2023c5844c9becb9e1d24641971)



---


YUV、YIQ、YCbCr
为电视系统开发：
- YcbCr适用于数字电视
- YUV适用于PAL（中、欧）和SECAM（法、俄）
- YIQ适用于NTSC（美、日）

为兼容黑白和彩色电视信号，亮度Y，色度U、V分离
YUV色彩空间与RGB色彩空间的转换关系：
![[YUV.png]]

YIQ色彩空间与RGB色彩空间的转换：
![[YIQ.png]]

YCbCr色彩空间与RGB色彩空间的转换：
![[YCbCr.png]]

Y的关系是不变的




---
图像格式
- 位图
	- 由图中的每个像素的数据组成
	- 每个像素的数据包括：颜色、亮度、属性
- 矢量图
	- 每个矢量是一个图形实体，它具有颜色、形状、轮廓、大小、位置等属性。（点、圆、线）
	- 矢量属性可以调整，如：颜色、亮度、属性
- GIF（Graphics Interchange Format）
	- LZW压缩算法存储图像数据。**超强压缩**
	- 最多支持256色（8位图像深度）
	- 特点：
		- 交错显示（下载时，以较粗分辨率显示，看到全貌）
		- 可以将多幅图像保存为一个文件，从而实现动画。**本质是图片**
- TIFF：高清晰度，论文
- PNG：无损压缩，集GIF，JPEG优点
- JPEG：压缩算法。16:1时非常好, 48:1时较好



---


## JPEG
-   JPEG算法：连续色调,多级灰度,**静态图像的压缩编码方法**(彩色、灰度、静止图像)
-   应用场景 
	- 静态图像压缩
	- 图像序列的**帧内压缩**
-   设计目标
	- **压缩比**与图像**保真度**达到较高技术水平; 
	- 能适用于**任何种类**的连续色调的图像。长宽、内容、 复杂度、统计特性是不受限的
	- 计算**复杂性**是可控制的:软件可完成,硬件实现算法.


### JPEG压缩-解压缩算法


![[JPEG压缩步骤.png]]

分块（8 * 8）
-   正向离散余弦变换(**FDCT**，Forward Discrete Cosine Transform)。
-   **量化**(quantization)。
-   Z字形**扫描**(zigzag scan)
-   使用**差分脉冲编码调制**(Differential pulse code modulation，DPCM)对直流系数(DC)进行编码。
-   使用**行程长度编码**(run-length encoding，RLE)对交流系数(AC)进行编码。
-   **熵编码**



具体过程：

**0. 压缩前准备** 
颜色空间转换，实现**亮度分离**。转换矩阵 * RGB

**1. 正向离散余弦变换FDCT**

对每个单独的图像分量，把整个分量图 像分成8×8的图像块，对每个图像块进行离散余弦变换的输入。**通过DCT变换，把能量集中在少数几个系数上。**
![[FDTC.png]]

经DCT变换之后，F(0,0)是直流系数，为 8 * 8 个像素的平均值，其余为交流系数
![[DCT变换后的结果.png]]

==DCT技术：空间域 -> 频率域==



**2. 量 化**
实数 -> （较少）整数
量化是对DCT变换后的**频率系数**进行量化。目的是
- **减小非“0”系数的幅度**
- **增加“0”值系数的数目**。
JPEG算法量化步距是按照系数所在的**位置**和每种颜色分量的**色调值**来确定(矩阵点除)。使用了两种量化表（色差量化表和亮度量化表）。量化表有用户规定，作为编码器的一个输入

量化是一个多到一过程，是失真的主因，是**图像质量下降的主因**




**3. Z字形扫描**
对量化后的系数重新编排，目的是**增加连续的0的系数个数**。
	Z字形重新编排，把8\*8的矩阵变成1\*64的矢量；频率低的系数放在矢量的顶部。



**4. 直流系数（DC）编码**
8 * 8图像块经过DCT变换后得到的DC直流系数有两个特点
- 系数的数值比较大
- 相邻的 8 * 8 图像块的DC系数值变化不大（具有一定相关性）、
所以JPEG使用了差分脉冲编码调制（==DPCM==）



**5. 交流系数（AC）编码**
量化交流系数AC的特点：包含有许多连续的“0”系数
因此使用行程编码（==RLE==）



**6. 熵编码**
-   为了进一步压缩数据,需对DC码和AC行程编码的码字再做基于统计特性的熵编码。
-   JPEG建议Huffman编码和自适应二进制算术编码。
-   熵编码可分成两步进行
	- 把DC码和AC行程码转换为中间符号序列 
	- 给这些符号赋以变长码字



## JPEG可选操作
1. 无失真编码
2. 基于DCT的有损压缩
	1. 不分层的编码
		1. 顺序编码。每个图象分量按**从左到右，从上到下**扫描，**一次扫描**完成编码
		2. 累进编码。图像编码在**多次扫描**中完成。传输时间长，接收端收到的图像是多次扫描**由粗糙到清晰**的累进过程
	2. 分层编码。图像在多个**空间分辨率**进行编码。在**接收端不要求高分辨率**或**信道速率慢**的情况下，只需做低分辨率图像解码，不必进行高分辨率解码


基于DCT的有损压缩，渐进的编码模式
- 分层
- 累进：系数，权重。==需要缓冲区==
累进和分层可以适应不同速率的数据传输方式



### 累进
第一次扫描值进行一次粗糙图像的扫描压缩，以相对于总的传输时间快的多的时间传输粗糙图像。并重建一帧质量较低的可识别图像
在随后的扫描中在对图像做精细的压缩，这时只传递增加的信息，可重建一幅质量提高一些的图像。
这样不断累进，直到满意的图像为止。

- 缓冲区：须在**量化器**的输出与**熵编码**的输入之间，增加一个缓冲区足以存储量化后的**DCT系数**，对缓冲区存储的DCT系数多次扫描，分批编码

两种累进方式
- **频谱选择法**：扫描中只对64个DCT量化系数中某些频带的系数进行编码、传送, 随后对其它频带编码、传送, 直到全部系数传送完毕为止。如，可分组(0,1,2) ,(3,4,5), … (61,62,63)等。
	- ![[频谱选择.png]]
- **按位逼近法**：沿着==DCT量化系数有效位方向分段==累进编码。如，每个系数可分段为7654位，3位，...0位，首先对最高的4位进行编码传输，然后对其余段位进行编码和传输
	- ![](https://s1.vika.cn/space/2022/12/12/7ab4ee053a5d4c7b82cc93769df1f379)



### 分层
分层方式是把原始图象的分辨率分成**多层次**进行编码，以**2的倍数降低分辨率**


==分层流程==
1. 把原始图象分辨率降低。
2. 对已降低分辨率的图象采用基于DCT的顺序方式、累进方式或无失真预测编码中的任何一种编码方法进行编码。
3. 对低分辨率的图象解码,重建图象,使用插值滤波器,对它插值,升高图象的水平和垂直分辨率。
4. 把分辨率已升高的图象作为原始图象的预测值,对它们的差值采用基于DCT的顺序方式、累进方式或用无失真方式进行编码。 
5. 重复(3)、(4)直到图象达到完整的分辨率编码。
![[分层流程.png]]

插值可以理解为把所有值都复制一遍，补充数据量，变成分辨率更高的的图像

发送方和接收方要规定好相同的插值算法，因此做好插值之后的图像完全一样。接收方共得到到2幅256 \* 192的图像，求和可以使得分辨率升至256 \* 512.



---
JPEG2000简介
目标是在高压缩率情况下保证图像传输质量
采用以小波变换为主的多分辨率编码方式
统一面向静态图像和二值图像的编码方式，是既支持低比率压缩又支持高比率压缩的通用编码方式

主要特点：
- 高压缩率
- 无损压缩
- 渐进传输
- 感兴趣区域压缩




---
运动图像压缩编码国际标准 —— MPEG


图像子采样：对亮度和色度信号分别采用不同的采样频率进行采样。
为什么能够子采样：颜色和亮度的分辨程度不一样，对亮度更敏感。那么给颜色少一些位数，实现压缩

⼦采样是对视频做准备的。最常⽤的是 4:4:4、4:2:0这两种⽅式，其他⽅式⽤的不是那么⼴泛。

- 4：4：4 YCbCr 格式
信息保留率：1/3+1/3+1/3=100%
![](https://s1.vika.cn/space/2022/12/12/aece61e9472f400a930235b5674521ee)

- 4：2：2 YCbCr 格式
信息保留率：1/3+(1/3+1/3)\*1/2 = 2/3 = 66.7%
![](https://s1.vika.cn/space/2022/12/12/5f45d87d77ec48ceb016209fe3a7dc74)

- 4：1：1 YCbCr 格式
信息保留率：1/3+(1/3+1/3)\*1/4 = 1/2 = 50%
![](https://s1.vika.cn/space/2022/12/12/62310711410c4ad68544f235ecd1b7cb)

- 4：2：0 YCbCr 格式
信息保留率：1/3+(1/3+1/3)\*1/4 = 1/2 = 50%
![](https://s1.vika.cn/space/2022/12/12/675cff0fe5534a32a631521382417a07)


---


视频压缩关键技术
- 帧内图像数据压缩：**DCT**，减少每帧图像内部的空间冗余，算法与JPEG大致相同，相当于静态图像压缩
- 帧间图像数据压缩：16 * 16 宏块**运动补偿**技术，消除帧序列的时间冗余度（帧间的空间冗余度）【**缓冲技术实现**】
	- I帧：帧内图(Intrapictures)，随机存取的位置，压缩比不大
	- P帧：预测帧(Predicted Pictures)，用先前的I帧或P帧参考预测
	- B帧：插补帧/双向预测(Bidirectional Prediction Pictures)：压缩效果显著，预测时需要先前和后续的信息，不能作为其他帧的预测参考帧
		![](https://s1.vika.cn/space/2022/12/12/c2bdd53aa7424da6860f283ecf9a51aa)


I帧压缩编码（空间域压缩）
	I帧只存在帧内编码，没有帧间运动估计，不用参考其它帧，所以I帧具有同步作用，付出的代价就是效率。
	DCT —— 变换系数量化 —— 熵编码


B、P帧关键技术：运动补偿（减少时域冗余）
- 运动补偿时通过先前的局部图像来预测、补偿当前的局部图像，是减少帧序列冗余最有效方法
- 算法：
	- 宏块(macroblock)为预测单元，当前宏块是先前宏块的移位。
	- 每个宏块计算出一个2维运动矢量，包括运动方向和幅度，利用运动矢量和先前的图像可预测当前图像
	- 16 $\times$ 16 的预测误差，要编码 、传送，供解码端回复图像用。
- 有双向预测和单向预测


P帧压缩编码
	P帧图像的编码先求两个宏块中相应像素值之差，对所求得的差值进行彩色空间转换，并通过子采样得到Y，Cb和Cr分量值，然后仿照JPEG压缩算法对差值进行编码；计算出的运动矢量也要进行霍夫曼编码。


# 06 多媒体通信与网络

多媒体通信性能需求
- 吞吐量：网络吞吐量是指有效的网络带宽，通常定义成物理链路的传输速率减去各种传输开销，以及网络冲突、瓶颈、拥塞和差错等开销，它反映了网络的最大极限容量。
- 可靠性
	- 差错率：反应网络传输的可靠性。位差错率，帧差错率，分组差错率分别用于在不同的网络协议层次上计算差错率。
	- 差错控制
- 延时：延时（Delay）是衡量网络性能的重要参数。主要有传播延时、发送延时、处理延时、排队延时等。
- 延时抖动：延时抖动即指延时的变化。【一定程度靠**缓冲区**解决】
- 服务可用性：给定时间范围内，网络可提供服务的时间与给定时间之比
- 服务质量（Qos）
	Qos（Quality of Service）：抽象概念，用于说明网络服务的好坏程度。
	由于不同的应用对网络性能的要求不同，对网络所提供的服务质量期望也不同。这种期望值可以用一种统一的Qos来描述。从支持Qos的角度，多媒体网络系统应提供Qos参数定义和相应的管理机制。
	参数：吞吐量、延时、延时抖动、差错率、服务可用性


Qos服务的分类
- 确定性Qos。全程保证
- 统计型Qos。统计保证
- 尽力型Qos。不保证


两种Qos保证机制
- RSVP提供的保证型服务
- 区分服务（Diffserv）



多媒体网络概念
-   多媒体网络是**计算机网络**；电话网络、电视网络可以作为计算机网络的接入网络。
-   能够传输**声音、图像、视频**的数据网络。
-   普通数据通信关注**准确性**；多媒体通信更强调**带宽、同步、延时**等，准确性不是首要问题。
-   多媒体网络涉及**网络操作系统、传输媒体、网络设备**。
-   重要协议：
	- 实时传输协议RTP
	- 实时控制协议RTCP
	- 资源保留设置协议RSVP
	- 实时流媒体播放协议RTSP。

![](https://s1.vika.cn/space/2022/12/12/14269dfeee244514b4d7b8e0cdd0daa8)

![](https://s1.vika.cn/space/2022/12/12/40e2a4e7ead1416fb635a98abfb7fc58)


HTTP的两个方法
- GET
	获取数据。如果客户请求一个Web页面就把GET写入`<method>`域，在这种情况下实体主体`<entity body>`域是空的。
- POST
	修改数据。如果客户已经填写了一张表单，就把POST填入`<method>`域送给服务器。如果方法域中的值是POST，实体主体`<entity body>`域就包含用户写入表单域中的内容。


TCP特点
可靠的面向连接服务： TCP(Transfer Control Protocol)协议提供的服务属于可靠服务，TCP保证把信息包传送到对方，对信息包的时延要求不高。
TCP的重要功能： 
(1) 通过确认(acknowledgements)实现可靠传输：接收端收到信息包后，向发送端发送一个确认信号。
(2) 流控制(flow control)：接收端可能不能及时处理，接收的数据不超过自身缓冲区。 
(3) 拥塞控制(congestion control)：当交换机拥挤时缓冲存储器可发生溢出，导致信息包丢失，面向连接服务提供了一定机制(方法)来限制传输速率。


UDP特点
不可靠的无连接服务( unreliable connectionless service) 使用UDP(User Datagram Protocol)协议提供的服务属于不可靠服务，不可靠的UDP服务不作任何担保，既不保证传送过程中不丢失信息包，也不保证时延满足应用要求。此外，因特网现在提供的服务对所有信息包的传送都是平等的，在因特网上都要排队等待。

应用层协议运行在操作系统之上，而传输层协议集成在操作系统之中。因此设计网络应用时，需要指定一种传输协议(TCP/UDP)，**多媒体应用通常使用UDP协议。**




---
IPv6

突出了对服务质量的支持

特点：
-   更大的地址空间（128）
-   更高效的路由
-   更好的安全性
-   移动性的支持
-   更好的QoS
 
总结
-   128位的地址空间允许更多的主机被寻址
-   IPv6需要能够与IPv4平滑过渡。
-   IPv4设计时并未考虑移动应用,IPv6设计时就考虑到对移动特性的支持。
-   IPv6首部的**通信类别(trafficclass)** 和 **流标识(flow table)** 字段提供了QoS支持机制。
    
    “流”是在多媒体通信中的一个常用的名词，一般定义为：具有同样的源IP地址、源端口号、目的IP地址、目的端口号、协议标识符以及服务质量需求的分组序列。中间路由器对这些包进行特定处理。


---
和多媒体通信有关的几个协议

**实时运输协议RTP（real-time Transport Protocol）**

应用：RTP广泛应用于流媒体通信，电话、视频会议、电视。

-   RTP为实时应用提供端到端的运输，但不提供任何服务质量的保证。
-   多媒体数据块经压缩编码后先送给RTP封装为RTP分组，再装入运输层的UDP用户数据报，然后再交给IP层。
-   RTP是一个协议框架，只包含了实时传输的一些共同功能。
-   RTP自己并不对多媒体数据块做任何处理，而只是向应用层提供一些附加的信息，让应用层知道应当如何进行处理。

序号：每发送一个报文，序列号+1。接收者通过序列号检测报文丢失情况，重新排序报文，恢复数据
时间戳：说明数据包的同步信息。是一个数，反应数据块的产生时间点
![](https://s1.vika.cn/space/2022/12/12/3b3f2c70632348dfa354935fd7225c77)


**实时运输控制协议 RTCP (RTP Control Protocol)**

-   RTCP是与RTP配合使用的协议。都是应用层协议
-   RTCP的主要功能是为应用程序提供会话质量或者广播性能质量的信息。 每个RTCP信息包不封装声音数据或者电视数据，而是封装发送端和/或者接收端的统计报表。包括发送的信息包数目、丢失的信息包数目和信息包的抖动等，这些信息对发送端、接收端或者网络管理员都很有用。 RTCP没有指定应用程序应该使用这个反馈信息做什么，这完全取决于应用程序开发人员。例如，发送端可以根据反馈信息来修改传输速率；接收端可以根据反馈信息判断问题是本地的、区域性的还是全局性的；网络管理员可以评估网络用于多目标广播的性能。

**实时流播协议RTSP—传输层**

- 本质上是控制器
- RTSP协议以客户/服务器方式工作，它是一个多媒体播放控制协议，使得用户在播放从因特网实时数据时能够进行控制，如：暂停/继续、后退、前进等。因此RTSP又称为“因特网遥控协议”。
- 主要用来控制具有实时特性的数据发送，但它本身并不传输数据，而是必须依赖于下层传输协议所提供的某些服务

---

- 资源预留：对于大网络不具有操作性
- 区分服务


**综合服务IntServ保障QoS--RSVP协议**

**QoS的需要** 当前因特网主要是为IP数据报提供服务，而对吞吐率和时延不提供任何保证。 QoS需要一种机制，这种机制允许应用程序保留网上的资源。资源保留协议(Resource Reservation Protocol, RSVP)就是这样一个标准。 RSVP协议允许应用程序为它们的数据流保留带宽。主机使用RSVP向网络请求保留一定带宽，路由器也使用RSVP转发带宽请求。为了执行RSVP协议，在接收端、发送端和路由器中都必需要支持RSVP协议。

**区分服务 DiffServ (Differentiated Services)**

区分服务的基本概念

-   由于综合服务IntServ和资源预留协议RSVP都较复杂，很难在大规模的网络中实现，因此IETF提出了新的策略，即区分服务DiffServ。在网络边界将数据流按QoS要求进行简单分类，不同的类别在内部节点的转发中实现不同的转发特性。
-   区分服务有时也简写为DS，具有区分服务功能的结点就称为DS结点。

**与IntServ相比DiffServ 的优点**

-   首先，路由器无须维护每个连接的信息，对系统资源要求低；
-   其次，对网络上的多种业务进行优先级归类合并成有限的几个优先级类别，网络设备处理更简单；
-   再次，采用IP包中的ToS字段进行优先级标示，没有附加的标签，这种做法兼容性好，易于实现。
-   另外，随着网络的扩展，优先级类别无须扩展。




# 07 综合应用实例 -- 智能视频监控

**为什么要用超文本？**
	文本是顺序的，超文本内部是非线性的网状结构。为应对信息爆炸，多媒体化、网络化、分布化迫切需要一种技术，高效地管理信息，并建立起信息间的关联。



**超文本的概念**

超文本是一种信息管理技术,它以节点作为基本单位，节点实际是一个信息块。它可以是字符文本集合,也可是屏幕中的一块显示区。在信息组织方面,则是用链把节点构成网状结构,即非线性结构。



**超文本的特征**

-   文本最显著的特点是是线性的和顺序的；
-   超文本的信息网络类似于人脑的联想结构,它采用非线性的网状结构来组织块状信息,没有固定的顺序；
-   超文本网络结构不仅提供了知识和信息,同时也包含了信息间的逻辑关系：信息的分析、推理和整合。



网状结构怎么构成？节点和信息块




## 超媒体系统组成

### 节点：

超文本/超媒体是由节点构成的信息网络，节点是存储信息的基本单元，又称为信息块，每个节点包含一个特定主题的信息，节点的大小视主题而一。

**按媒体类型分类**

-   文本节点：表达思想、解释概念；
-   图形、图象节点：表现事物的形态；
-   声音节点；
-   视频节点；
-   数据库节点
-   命令（按钮）节点：执行程序；

**按结构分类**

-   原子节点；
-   组合节点；

**按状态分类**

-   动态节点；
-   静态节点

### 链（链接）

-   链定义了超文本/超媒体的结构，提供了浏览、查询节点的能力，因此链是超文本/超媒体的灵魂。
-   链表示不同节点间信息的联系。它由一个节点指向其它节点,或从其它节点指向该节点。因为信息间的联系是千变万化、所以链也是复杂多样的。超文本中有了链才有了非线性;有了链用户才能沿着链找到相关信息。
-   在超媒体中链隐藏在信息背后、记录在系统中,我们看不到链，但是从一个节点转向另一个节点时,会感觉到链的存在。






## 传统方法和现代方法

传统方法 Memex



现代方式



索引 步骤，具体方法不会考，知道多少算多少（单押，yo）